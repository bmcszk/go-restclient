| Task ID | Description                                                                 | Status | Dependencies | Notes                                                                                                |
|---------|-----------------------------------------------------------------------------|--------|--------------|------------------------------------------------------------------------------------------------------|
| T1      | **Parser:** Enhance parser to support multiple requests (`###` separator)     | Completed |              | Parse name from separator line. Logic in `parser.go` updated.                                |
| T2      | **Parser:** Add support for request naming (`### Name` and `// @name Name`) | Completed | T1           | Parser now handles `// @name` and `# @name` comments, overriding `### Name` if present. Logic in `parser.go` updated. |
| T3      | **Variables:** Implement `{{variable_name}}` substitution mechanism         | Completed |              | Updated `resolveVariablesInText` and `ExecuteFile` in `client.go` to support new variable scopes (environment, global) and precedence. Called from `parser.go` updated. |
| T4      | **Environments:** Implement `http-client.env.json` loading                  | ToDo   | T3           | Parse JSON, allow environment selection (e.g., CLI flag), integrate with variable substitution.        |
| T5      | **JS Engine:** Integrate a Go JavaScript engine (e.g., `goja`)              | ToDo   |              | Core dependency for scripting.                                                                       |
| T6      | **JS Pre-request:** Implement pre-request script execution (`< {%...%}`, `< file.js`) | ToDo   | T5, T3       | Define `request` object API (`request.variables.set`).                                               |
| T7      | **JS Response Handler:** Implement response handler script execution (`> {%...%}`, `> file.js`) | ToDo   | T5, T3       | Define `client` & `response` object APIs (`client.global.set`, `client.test`, `client.assert`, etc.). |
| T8      | **JS Modules:** Enable ES6 `import`/`export` in JS scripts                  | ToDo   | T5           | Configure JS engine for module support.                                                              |
| T9      | **Imports:** Implement request import feature (`// @import "file.http"`)    | ToDo   | T1           | Define how imported requests are made available. Syntax needs final confirmation.                    |
| T10     | **Body:** Ensure robust `application/x-www-form-urlencoded` support         | ToDo   |              | Correctly encode special characters.                                                                 |
| T11     | **Body:** Ensure robust `multipart/form-data` support                       | ToDo   |              | Handle file uploads and mixed data parts.                                                            |
| T12     | **Execution:** CLI logic for running specific named requests                | ToDo   | T2           |                                                                                                      |
| T13     | **Execution:** CLI logic for running all requests in a file sequentially    | ToDo   | T1, T7       | Ensure `client.global` variables persist between requests in a run.                                  |
| T14     | **Refactor:** Update `Request` struct and related types as needed           | Completed |              | Accommodate new fields for scripts, environment context, etc. Structs `Script`, `Request`, `ParsedFile` updated. |
| T15     | **Docs:** Update `README.md` with new features and usage instructions       | ToDo   | All others   |                                                                                                      |
| T16     | **Testing:** Add unit tests for new parsing logic                           | ToDo   | T1, T2, T9   |                                                                                                      |
| T17     | **Testing:** Add unit/integration tests for variable substitution & environments | ToDo   | T3, T4       |                                                                                                      |
| T18     | **Testing:** Add integration tests for JS scripting (pre & post)            | ToDo   | T6, T7, T8   | Test API contracts and script effects.                                                               |
| T19     | **Testing:** Add integration tests for request execution flows              | ToDo   | T12, T13     |                                                                                                      |
